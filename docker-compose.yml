version: "3"

services:
  bookstore-database:
    image: ghcr.io/weijuly/bookstore-database:0.0.1-20220215151046
    networks:
      - bookstore-network
  bookstore-cache:
    image: ghcr.io/weijuly/bookstore-cache:0.0.1-20220224110232
    networks:
      - bookstore-network
  bookstore-service:
    image: ghcr.io/weijuly/bookstore-service:0.0.1-20220224053243
    networks:
      - bookstore-network
    depends_on:
      - bookstore-database
      - bookstore-cache
  bookstore-gateway:
    image: ghcr.io/weijuly/bookstore-gateway:0.0.1-20220215151137
    ports:
      - "443:443"
    networks:
      - bookstore-network
    depends_on:
      - bookstore-service
networks:
  bookstore-network:
    driver: bridge
